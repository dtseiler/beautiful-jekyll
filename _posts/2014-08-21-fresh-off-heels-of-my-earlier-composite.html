---
layout: post
title: ORA-14048 When Adding Composite Partition
date: '2014-08-21T15:35:00.000-05:00'
author: Don Seiler
tags:
- partitions
- 11gR2
- oracle
modified_time: '2014-08-21T16:02:37.465-05:00'
thumbnail: http://1.bp.blogspot.com/-vzBY1-dDReo/U_ZYG0kEBBI/AAAAAAAAAgA/-YOEtTYFnWg/s72-c/notasmartman.jpg
blogger_id: tag:blogger.com,1999:blog-7032512792942232766.post-4525235876531772236
blogger_orig_url: http://www.seiler.us/2014/08/fresh-off-heels-of-my-earlier-composite.html
---

Fresh off the heels of my earlier composite partitioning post, I just ran into this confusing issue:<br /><br /><span style="font-family: Courier New, Courier, monospace;">SQL&gt; alter table p_objects</span><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp; 2 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;add partition p201410</span><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp; 3 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;values less than (to_date('2014/11/01','yyyy/mm/dd'))</span><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp; 4 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(</span><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp; 5 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;subpartition p201410_spdts values ('DTS')</span><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp; 6 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;, subpartition p201410_spfoo values ('FOO')</span><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp; 7 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;, subpartition p201410_spbar values ('BAR')</span><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp; 8 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;, subpartition p201410_spsys values ('SYS')</span><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp; 9 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;, subpartition p201410_spsysaux values ('SYSAUX')</span><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp;10 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;)</span><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp;11 &nbsp;tablespace tbs1</span><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp;12 &nbsp;;</span><br /><span style="font-family: Courier New, Courier, monospace;">tablespace tbs1</span><br /><span style="font-family: Courier New, Courier, monospace;">*</span><br /><span style="font-family: Courier New, Courier, monospace;">ERROR at line 11:</span><br /><span style="font-family: Courier New, Courier, monospace;">ORA-14048: a partition maintenance operation may not be combined with other</span><br /><span style="font-family: Courier New, Courier, monospace;">operations</span><br /><br />The error doesn't quite make it easy to determine what the problem is. Turns out that the tablespace/storage clause of the ALTER TABLE ... ADD PARTITION has to come prior to the subpartitions definition. Simply moving that part of the statement a few rows up yields success:<br /><br /><span style="font-family: Courier New, Courier, monospace;">SQL&gt; alter table p_objects</span><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp; 2 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;add partition p201410</span><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp; 3 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;values less than (to_date('2014/11/01','yyyy/mm/dd'))</span><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp; 4 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: blue;">tablespace tbs1</span></span><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp; 5 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(</span><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp; 6 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;subpartition p201410_spdts values ('DTS')</span><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp; 7 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;, subpartition p201410_spfoo values ('FOO')</span><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp; 8 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;, subpartition p201410_spbar values ('BAR')</span><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp; 9 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;, subpartition p201410_spsys values ('SYS')</span><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp;10 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;, subpartition p201410_spsysaux values ('SYSAUX')</span><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp;11 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;)</span><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp;12 &nbsp;;</span><br /><span style="font-family: Courier New, Courier, monospace;"><br /></span><span style="font-family: Courier New, Courier, monospace;">Table altered.</span><br /><div><br /></div><div>Again, probably obvious to most of you. It wasn't as obvious to decipher when I was trying to add a partition with over 6,300 subpartitions. As always:</div><div><br /></div><div class="separator" style="clear: both; text-align: center;"></div><div><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-vzBY1-dDReo/U_ZYG0kEBBI/AAAAAAAAAgA/-YOEtTYFnWg/s1600/notasmartman.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-vzBY1-dDReo/U_ZYG0kEBBI/AAAAAAAAAgA/-YOEtTYFnWg/s1600/notasmartman.jpg" height="167" width="320" /></a></div><br /></div>